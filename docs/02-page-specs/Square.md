---
title: Square
created: 2026-02-22
updated: 2026-02-23
tags: [page, status/implemented]
file: square.html
---

# Square

> 감각의 광장. 다양한 감각이 교차하는 광장에서 새로운 관점과 영감을 나누는 커뮤니티 페이지.

---

## 개요

다른 사람의 메모를 볼 수 있는 공간. 시간순으로 정렬되며, 필터를 통해 친구/모두/특정 친구의 메모를 선택적으로 볼 수 있다.

---

## 핵심 기능

- **메모 피드**: 시간순 정렬, 가장 최근 등록된 메모가 최상단
- **필터**: 모두 보기 (public만), 친구 메모 보기 (friends + public), 특정 친구 메모 보기
- **작성자 사이드바**: 좌측 메모 클릭 시 해당 작성자의 공개 범위 권한에 맞는 모든 메모 모아보기
- **메모에 메모하기**: 좌측 피드, 우측 사이드바 양쪽 모두 지원

---

## 화면 레이아웃

```
┌────────────────────────────────────────────────────┐
│  Header (10vh)                                     │
├──────────────────────────────┬─────────────────────┤
│  Feed (75%)                  │ Author Sidebar (25%) │
│                              │                     │
│  [모두 보기] [친구 메모 보기]  │ ← 작성자 아바타     │
│                              │   작성자 이름        │
│  ┌─────────────────────┐     │   n개 메모           │
│  │ 아바타 | 작성자      │     │                     │
│  │ 시간 | 아티클 제목   │     │ ┌─────────────────┐ │
│  │ [인용 텍스트]        │     │ │ 시간 | 공개범위  │ │
│  │ 메모 내용            │     │ │ [인용 텍스트]    │ │
│  │ 공개범위             │     │ │ 메모 내용        │ │
│  │ ─ 답글들 ─           │     │ │ 아티클 참조      │ │
│  │ 메모에 메모하기      │     │ │ 메모에 메모하기  │ │
│  └─────────────────────┘     │ └─────────────────┘ │
│  ...                         │ ...                  │
├──────────────────────────────┴─────────────────────┤
```

---

## 필터 동작

| 필터 | 표시 대상 |
|------|----------|
| 모두 보기 | visibility === 'public' |
| 친구 메모 보기 | isFriend && (visibility === 'friends' ∥ 'public') |
| 특정 친구 | 위 필터 + author === 선택된 친구 |

---

## 파일 구조

- `square.html` — 페이지 마크업
- `css/square.css` — 페이지 전용 스타일
- `js/square.js` — 피드 렌더링, 필터링, 사이드바, 메모에 메모하기

---

## 반응형

| 디바이스 | 레이아웃 변경 |
|---------|-------------|
| PC (>1024px) | 75% / 25% 좌우 분할 |
| 태블릿 (768~1024px) | 70% / 30% 비율 조정, 패딩 축소 |
| 모바일 (<768px) | 세로 스택 (피드 100% → 사이드바 100%) |

---

## 데이터 구조

```javascript
{
  id: string,
  author: string,
  avatarInitial: string,
  isFriend: boolean,
  note: string,
  sourceText: string,
  articleTitle: string,
  createdAt: number,
  visibility: 'private' | 'friends' | 'public',
  replies: [
    { id, author, avatarInitial, note, createdAt }
  ]
}
```
